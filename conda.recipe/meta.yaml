# Conda Recipe for Tethys Platform
# WARNING: THIS IS A GENERATED FILE. DO NOT EDIT.
# TO CHANGE THIS FILE, SEE $TETHYS_SRC/tethys_cli/gen_templates/meta yaml
{% set data = load_setup_py_data() %}

package:
  name: tethysplatform
  version: {{ data['version'] }}

source:
  path: ..

build:
  number: 0
  string: {% if GIT_DESCRIBE_NUMBER|int > 0 %}dev{{ GIT_BUILD_STR }}{% endif %}
  noarch: python
  script:  python setup.py install --single-version-externally-managed --record=record.txt
  entry_points:
    - tethys = tethys_cli:tethys_command

requirements:
  build:
    - python
    - pbr
  run:
    - python=3.7.*
    - pycrypto=2.6.*
    - pyopenssl=19.0.*
    - docker-py=4.0.*
    - distro=1.4.*
    - postgresql=11.5
    - psycopg2=2.8.*
    - sqlalchemy=1.3.*
    - geoalchemy2=0.6.*
    - plotly=4.1.*
    - bokeh>=1.3.5*
    - tethys_dataset_services>=2.0.0
    - hs_restclient=1.3.*
    - owslib=0.18.*
    - requests=2.22.*
    - social-auth-app-django=3.1.*
    - dask=1.2.*
    - tethys_dask_scheduler>=1.0.2
    - channels=2.2.*
    - service_identity=18.1.*
    - condorpy=0.5.*
    - django=2.2.*
    - django-filter=2.2.*
    - djangorestframework=3.10.*
    - django-bootstrap3=11.1.*
    - django-model-utils=3.2.*
    - django-guardian=2.1.*
    - django-gravatar2=1.4.*
    - django-termsandconditions=1.2.*
    - django-session-security=2.6.*
    - django-analytical=2.5.*
    - django-simple-captcha=0.5.*
    - django-recaptcha2=1.4.*
    - social-auth-app-django=3.1.*
    - requests-mock=1.7.*
    - selenium=3.141.*
    - coverage=4.5.*
    - factory_boy=2.11.*
    - asynctest=0.12.*
    - pillow=6.1.*
    - pip=19.2.*
    - future=0.17.*
    - flake8=3.7.*
    - pbr=5.4.*
    - git=2.23.*
    - conda=4.7.*
    
test:
  imports:
    - tethys_apps
    - tethys_cli
    - tethys_compute
    - tethys_config
    - tethys_gizmos
    - tethys_portal
    - tethys_quotas
    - tethys_sdk
    - tethys_services

about:
  home: {{ data['url'] }}
  license: BSD-2-Clause
  license_family: BSD
  license_file: LICENSE
  summary: {{ data['description'] }}
  description: |
    Tethys Platform provides both a development environment
    and a hosting environment for earth science web apps.
  doc_url: http://docs.tethysplatform.org
  dev_url: https://github.com/tethysplatform/tethys

extra:
  recipe-maintainers:
    - sdc50
    - swainn